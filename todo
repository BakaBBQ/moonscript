# TODO

-- error when assining a loop whose body doesn't end in expression

x = for x in y
  y = 100

-- seems like running in moon messes up require order

- don't reuse _, put a local on it, so we don't keep around trash

-- swithc X with Func

- or= and=

- a do block for making a quick anon func and calling it

- error with stray comma at end of line
- ugly error if attempting to assign to rvalue like #hello

- dump node in mark, see why values are being parsed multiple times

- varargs that get put in a nested generated function aren't valid anymore:

- class expressions, x = class extends Hello do new: => print "hello"

* multiline comments
* table slices (almost)
* add continue keyword (ouch)

* combine for and if line decorators

* elseif with value that inserts lines
  - need to decompose elif into if inside else

* export later?

	x = 232
	export x


* allow return anywhere in block

* any/every keywords for comprehensions? (what about iterators)

* let array items in table be defined without {} when indented


* allow dot access with names that are keywords: hello.then

* convert tree transformer to be depth first instead of breadth first (lazy)


-- for searching?
x = for thing in *things
	if is_important thing
		break thing 


